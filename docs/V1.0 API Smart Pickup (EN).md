![](img/logo-spup.jpeg)



# API Integration Documentation

### February 2021

**INDEX Documentation Version Table	4**

- [**General concepts**](#_toc_250052)

- [**How to use**](#_toc_250051)

- [How to use the KEY](#_toc_250050)

- [**Endpoint –  How to get the list of PickUp Points**](#_toc_250049)

- [GET method](#_toc_250048)

- [Input](#_toc_250047)

- [Output table](#_toc_250046)

- [**Endpoint – How to get the list of PickUp Points**](#_toc_250045)

- [GET method](#_toc_250044)

- [Input](#_toc_250043)

- [Output table](#_toc_250042)

- [**Endpoint – Warehouse Keeper**](#_toc_250041)

- [Input and output table](#_toc_250040)

- [GET Method](#_toc_250039)

- [POST Method](#_toc_250038)

- [Input](#_toc_250037)

- [PATCH Method](#_toc_250036)

- [Input](#_toc_250035)

- [DELETE Method](#_toc_250034)

- [Input](#_toc_250033)

- [**Endpoint – Create an order or a number of orders**](#_toc_250032)

- [POST Method](#_toc_250031)

- [Creation of an order to a customer's address.](#_toc_250030)

- [Headers](#_toc_250029)

- [Input](#_toc_250028)

- [Input Parameters](#_toc_250027)

- [Creation of an order to a Smart Pickup location.](#_toc_250026)

- [Input parameters](#_toc_250025)

- [ Creating a return order starting at Home.](#_toc_250024)

- [Input Parameters](#_toc_250023)

- [Table box_size.](#_toc_250022)

- [Parameters](#_toc_250021)

- [Output](#_toc_250020)

- [**Cancel a specific order**](#_toc_250019)

- [ PATCH Method](#_toc_250018)

- [Modification of 1 order:](#_toc_250017)

- [Input](#_toc_250016)

- [Output](#_toc_250015)

- [**Cancel a Number of Orders**](#_toc_250014)

- [Input](#_toc_250013)

- [PATCH Method](#_toc_250012)

- [**Endpoint Status of an Order**](#_toc_250011)

- [Input](#_toc_250010)

- [GET Method](#_toc_250009)

- [Output or response (endpoint response)](#_toc_250008)

- [Status table](#_toc_250007)

- [Sub status table](#_toc_250006)

- [**Endpoint Summary of an Order**](#_toc_250005)

- [Input](#_toc_250004)

- [GET Method](#_toc_250003)

- [Output or response (endpoint response)](#_toc_250002)

- [Output Table](#_toc_250001)

- [**Tracking ID format**](#_toc_250000)

# <a name="_toc_250052"></a>General concepts

The following concepts will be used in the Smart Pickup business model:

**PUP:** Acronym for Smart Pickup.

**PUDO: “Pick Up - Drop Off”** Smart Pickup location. It refers to the premises that belong to the Smart Pickup network.

**Shipment, Order:** They correspond to the service orders generated by the Ecommerce to Smart Pickup. The mentioned concepts are used synonymously. Each of these shipments are associated with a code called "tracking ID" which is unique.

**Package, Bulk:** Corresponds to the physical unit or units that make up a Shipment-Order. Each of these units has a PUP label associated with it. The label generated by Smart Pickup identifies the corresponding package number within the shipment, through numbering (n / m).

![](img/Aspose.Words.721ca2bf-7c39-4c8d-92b2-c3a804e26bfe.005.png)

**Product / s:** Correspond to the products that come in the PUP packages. It does not go into the detail of the quantity or type of products that come in each shipment. Mention is only made to avoid confusion in the language used.![](img/Aspose.Words.721ca2bf-7c39-4c8d-92b2-c3a804e26bfe.006.png)


# <a name="_toc_250051"></a>How to use

The following document specifies the general use of using the API to integrate with the Smart Pickup system.

The authentication method used for the operation of the API is via API\_TOKEN, which will be assigned once the introduction to the documentation and the platform has been made.

The API can be used in two ways:

● Public: at least one End-Point is public, which can be accessed by querying a URL.

● Private: a TOKEN is necessary which must be used as an authentication key.


## <a name="_toc_250050"></a>How to use the key
To perform a POST it is necessary to use the following structure. Pass the following value in the Header of the queries:

- Content-Type: application/json
- Authorization: Token 2a6f3ab1bec0a7cde87709102XXXXXXXXXXXXXXX

The Token granted is private, therefore, it is unique for the company. Its duration is determined by contract.
## <a name="_toc_250049"></a>Endpoint – Get List of PickUp Points

Obtaining the list of Smart Pickup pickup points is public. It can be accessed through the following URL:

### <a name="_toc_250048"></a>GET Method
<https://api.pickuppoint.cl/api/v1/public/pudos/> <https://api.pickuppoint.cl/api/v1/public/pudos/?category=tienda>


### <a name="_toc_250047"></a>Input

The endpoint for obtaining PUDOs (Associated Smart Pickup locations) can be filtered by commune, city, region, country or by other parameters delivered by the system such as access to parking or disabled access, and even by the name of the store. If the URL is consulted without filter parameters, all withdrawal points are obtained.

```json
{
  "results": [
    {
      "name": "Oficina Smart Pickup",
      "code": "SCL01",
      "is_inclusive": true,
      "is_parking": false,
      "location": {
        "latitude": "-33.4391627",
        "longitude": "-70.65540390000001"
      },
      "street": "Teatinos",
      "number": "380",
      "apartment": "",
      "commune": "Santiago",
      "city": "Santiago",
      "country": "Chile",
      "qualification": 1,
      "temporal_time_window": "Lun 08:00 - Vie 18:00",
      "category": "minimarket",
      "pudo_capacity": 90,
      "pudo_alert_capacity ": 13
    }
  ],
  "links": { "previous": null, "next": null }, "count": 1
}
```


It is also possible to use the following URL to obtain withdrawal points:

[https://api.pickuppoint.cl/api/v1/public/pudos/?\[campo\] iconstains=](https://api.pickuppoint.cl/api/v1/public/pudos/?%5Bcampo%5D__iconstains)

It is possible to filter the local Smart Pickups if they contain any letter or word within the filtered fields:

Example:

[https://api.pickuppoint.cl/api/v1/public/pudos/?city iconstains=S](https://api.pickuppoint.cl/api/v1/public/pudos/?city%20iconstains=S)


### <a name="_toc_250046"></a>Tabla de salida


| **Variable**  | **Type Value**       | **Required** |           **Example**           |                    **Description**                    |
| :------------ | :------------------- | :----------: | :-----------------------------: | :---------------------------------------------------: |
| Name          | String               |      -       |           La Pulperia           |                Smart Pickup Store name                |
| Code          | String               |      -       |              SCL01              |             Unique withdrawal point code              |
| Is\_inclusive | Boolean              |      -       |              True               | Informs if a pick-up point has disabled access or not |
| Is\_parking   | Boolean              |      -       |              False              |        Informs if a pick-up point has parking         |
| Location      | [latitude Longitude] |      -       | <p>[0,22546,</p><p>-2,1564]</p> | Inform latitude and longitude of the withdrawal point |
| Street        | String               |      -       |         Blanco encalada         |               Pick-up point street name               |
| Number        | String               |      -       |              245-A              |              Pick-up point street number              |
| Apartment     | String               |      -       |               25                |                   Apartment number                    |
| Commune       | String               |      -       |            Santiago             |     Commune where the withdrawal point is located     |


|          City           | String | -    |              Santiago              | City where the pick-up point is located                           |
| :---------------------: | :----: | :--- | :--------------------------------: | :---------------------------------------------------------------- |
|         Country         | String | -    |               Chile                | Country where the withdrawal point is located                     |
|      qualification      | Number | -    |                 5                  | Category to organize the withdrawal points                        |
| Temporal\_ti me\_window | String | -    | <p>Lun 08:00</p><p>– Vie 18:00</p> | Hours of operation of the withdrawal point                        |
|        Category         | String | -    |              oficina               | Withdrawal point category                                         |
|     Pudo\_capac ity     | Number | -    |                 50                 | Total number of packages the Withdrawal Point can manage          |
| Pudo\_alert\_ capacity  | Number | -    |                 12                 | Number that alerts of possible saturation of the withdrawal point |

# <a name="_toc_250045"></a>Endpoint – Get List of Withdrawal Points

Obtaining the list of Smart Pickup withdrawal points is public. It can be accessed through the following URL:

## <a name="_toc_250044"></a>GET Method
<https://api.pickuppoint.cl/api/v1/public/pudos/> <https://api.pickuppoint.cl/api/v1/public/pudos/?category=tienda>


### <a name="_toc_250043"></a>Input

The endpoint for obtaining PUDOs (Associated Smart Pickups) can be filtered by commune, city, region, country or by other parameters delivered by the system such as access to parking or disabled access, and even by the name of the withdrawal points. If the URL is consulted without filter parameters, all withdrawal points are obtained.

#### {
#### "results": [
#### {
#### "name": "Oficina Smart Pickup", "code": "SCL01",
#### "is\_inclusive": true, "is\_parking": false, "location": {
#### "latitude": "-33.4391627",
#### "longitude": "-70.65540390000001"
#### },
#### "street": "Teatinos", "number": "380",
#### "apartment": "", "commune": "Santiago", "city": "Santiago",
#### "country": "Chile", "qualification": 1,
#### "temporal\_time\_window": "Lun 08:00 - Vie 18:00", "category": "minimarket",
#### "pudo\_capacity": 90,
#### "pudo\_alert\_capacity ": 13


#### }
#### ],
#### "links": { "previous": null, "next": null }, "count": 1
#### }


It is also possible to use the following URL to obtain withdrawal points:

[https://api.pickuppoint.cl/api/v1/public/pudos/?\[campo\] iconstains=](https://api.pickuppoint.cl/api/v1/public/pudos/?%5Bcampo%5D__iconstains)

It is possible to filter the local Smart Pickups if they contain any letter or word within the filtered fields:

Example: [https://api.pickuppoint.cl/api/v1/public/pudos/?city iconstains=S](https://api.pickuppoint.cl/api/v1/public/pudos/?city__iconstains=S)


### <a name="_toc_250042"></a>Output table


| **Variable**  | **Output table**     | **Required** |           **Example**           |                    **Description**                    |
| :------------ | :------------------- | :----------: | :-----------------------------: | :---------------------------------------------------: |
| Name          | String               |      -       |           La Pulperia           |                Smart Pickup Store name                |
| Code          | String               |      -       |              SCL01              |             Unique withdrawal point code              |
| Is\_inclusive | Boolean              |      -       |              True               | Inform if a pick-up point has disabled access or not  |
| Is\_parking   | Boolean              |      -       |              False              |         Report if a pick-up point has parking         |
| Location      | [latitude Longitude] |      -       | <p>[0,22546,</p><p>-2,1564]</p> | Inform latitude and longitude of the withdrawal point |
| Street        | String               |      -       |         Blanco encalada         |               Pick-up point street name               |
| Number        | String               |      -       |              245-A              |              Pick-up point street number              |
| Apartment     | String               |      -       |               25                |                   Department number                   |
| Commune       | String               |      -       |            Santiago             |     Commune where the withdrawal point is located     |
| City          | String               |      -       |            Santiago             |        City where the pick-up point is located        |


|                         |        |      |                                    |                                                                                   |
| :---------------------- | :----- | :--- | :--------------------------------- | :-------------------------------------------------------------------------------- |
| Country                 | String | -    | Chile                              | Country where the withdrawal point is located                                     |
| qualification           | Number | -    | 5                                  | Category to organize the withdrawal points                                        |
| Temporal\_ti me\_window | String | -    | <p>Lun 08:00</p><p>– Vie 18:00</p> | Hours of operation of the withdrawal point                                        |
| Category                | String | -    | oficina                            | Withdrawal point category                                                         |
| Pudo\_capac ity         | Number | -    | 50                                 | Total number of packages the Withdrawal Point can manage                          |
| Pudo\_alert\_ capacity  | Number | -    | 12                                 | Number where an alert of possible saturation of the withdrawal point is triggered |

# <a name="_toc_250041"></a>Endpoint – Warehouse Keeper

Obtaining the list of wineries. It can be accessed through the following URL:

### <a name="_toc_250040"></a>Input and output table		


| **Variable** | **Value Type** | **Required** |    **Example**    |                **Description**                |
| :----------: | :------------- | :----------: | :---------------: | :-------------------------------------------: |
|     Name     | String         |     Yes      | API creation test |             Name of the warehouse             |
|     Code     | String         |     Yes      |        TTT        |             Unique warehouse code             |
|    Street    | String         |     Yes      |  Blanco encalada  |           Pick-up point street name           |
|    Number    | String         |     Yes      |        245        |           Pick-up point street name           |
|  Apartment   | String         |      No      |        25         |               Apartment number                |
|   Commune    | String         |     Yes      |     Santiago      | Commune where the withdrawal point is located |
|     City     | String         |     Yes      |  Metropolit ana   | Region where the withdrawal point is located  |
|   Country    | String         |     Yes      |       Chile       | Country where the withdrawal point is located |



## <a name="_toc_250039"></a>GET Method
[https://api.pickuppoint.cl/api/v1/commerce/warehouses/](https://api.pickuppoint.cl/api/v1/public/pudos/) [https://api.pickuppoint.cl/api/v1/commerce/warehouses/?page_size=10&page=1/](https://api.pickuppoint.cl/api/v1/public/pudos/)


#### {
#### "results": [
#### {
#### "code": "TTT",
#### "name": "Test de creación por API", "street": "Santo Domingo", "number": "1450",


#### "apartment": "1504", "commune": "Santiago",
#### "city": "Metropolitana de Santiago", "country": "chile",
#### "created": "2019-10-03T10:23:31.897770-03:00", "pk": 11
#### }
#### ],
#### "links": { "previous": null, "next": null }, "count": 1
#### }



## <a name="_toc_250038"></a>POST Method
[https://api.pickuppoint.cl/api/v1/commerce/warehouses/](https://api.pickuppoint.cl/api/v1/public/pudos/)

### <a name="_toc_250037"></a>Input

Code must be kept 3 characters; apartment can be sent as null.
#### {
#### "code": "TTT",
#### "name": "Test de creación por API", "street": "Santo Domingo", "number": "1450",
#### "apartment": "1504", "commune": "Santiago",
#### "city": "Metropolitana de Santiago", "country": "chile"
#### }

## <a name="_toc_250036"></a>PATCH method
[https://api.pickuppoint.cl/api/v1/commerce/warehouses/](https://api.pickuppoint.cl/api/v1/public/pudos/){{ pk of the warehouse to edit }}/

### <a name="_toc_250035"></a>Input

#### Send only what you want to edit
#### {
#### "name": "Nuevo Nombre"
#### }


## <a name="_toc_250034"></a>DELETE Method
[https://api.pickuppoint.cl/api/v1/commerce/warehouses/](https://api.pickuppoint.cl/api/v1/public/pudos/){{ pk of the warehouse to delete}}/

### <a name="_toc_250033"></a>Input

If this warehouse has already created orders, it is not possible to delete it to keep track.

# <a name="_toc_250032"></a>Endpoint – Create an Order or Number of Orders

The creation of an Order or Number of Orders can be done through the following URL:

## <a name="_toc_250031"></a>POST Method
<https://api.pickuppoint.cl/api/v1/commerce/orders/>

To use the API correctly you must follow the following steps:

Authentication is through API Token, which will be assigned to you once your account is created. This API is private.

Token example: 2a6f3ab1bec0a7cde87709102ab263864c15d120


## <a name="_toc_250030"></a>Creation of an order to a customer's address.

Integrated ecommerces can generate last-mile orders to customers' homes.

### <a name="_toc_250029"></a>Headers

{

"Content-Type":"application/json",

"Authorization":"Token 2a6f3ab1bec0a7cde87709102ab263864c15d120"

}



### <a name="_toc_250028"></a>Input

{

"warehouse\_id":"bsfz14", "client\_email":"<ignacio.aguirre@ejemplo.cl>", "name\_client":"Ignacio Aguirre", "phone\_client":"963937584", "request\_number":"0000000001",  "box\_size":1,

"box\_height":1, "box\_width":1, "box\_length":1, "box\_weight":1, "address": {

"street": "Teatinos",


"number": "504",

"apartment": "209", "commune": "Santiago", "city": "Santiago", "country": "Chile"

},

"order\_type": "lm\_home"

}

To create one or more orders, you must enter the following information as headers parameters:

|   Variable    | Type Value | Required |          Value          | Description                                                     |
| :-----------: | :--------: | :------: | :---------------------: | :-------------------------------------------------------------- |
| Content-Type  |   String   | Required |    application/json     | Mandatory in the header                                         |
| Authorization |   String   | Required | Token <token\_usuario > | Mandatory in the header. Static value delivered by Smart Pickup |



## <a name="_toc_250027"></a>Input Parameters


|   Variable    | Type Value | Required |                       Value                        | Description                                                                 |
| :-----------: | :--------: | :------- | :------------------------------------------------: | :-------------------------------------------------------------------------- |
| warehouse\_id |   string   | Required |                       bsfz14                       | Warehouse identifier code. This is a static value delivered by Smart Pickup |
| client\_email |   string   | Required | ignacio.aguirre @ejemplo[.cl](mailto:mat@thews.cl) | Customer email                                                              |
| name\_client  |   String   | Required |                  Ignacio Aguirre                   | Full name of the customer placing the order                                 |
| phone\_client |   String   | Required |                     987452154                      | Phone number                                                                |


|                                        |         |               |             | <p>required to inform via SMS the</p><p>order status. It is necessary to respect the format XXXXXXXXX</p> |
| :------------------------------------- | :------ | :------------ | :---------- | :-------------------------------------------------------------------------------------------------------: |
| request\_number                        | string  | Required      | 0000000001  |                                      Unique Ecommerce purchase code                                       |
| box\_size (Referencia tabla box\_size) | integer | Required      | 2           |                             Box size category to be defined with the merchant                             |
| box\_height\*                          | float   | Optional      | 1           |                                       Package height in centimeters                                       |
| box\_width\*                           | Float   | Optional      | 1           |                                       Package width in centimeters                                        |
| box\_length\*                          | Float   | Optional      | 1           |                                       Package length in centimeters                                       |
| box\_weight                            | float   | Optional      | 1           |                                          Package weight in Kilos                                          |
| street                                 | string  | `   `Required | Condell     |                                                  Street                                                   |
| number                                 | string  | Required      | 679         |                                                Numeration                                                 |
| apartment                              | string  |               | 204         |                                        office, apartment, box, etc                                        |
| commune                                | string  | Required      | Providencia |                                                  Commune                                                  |
| city                                   | string  | Required      | Santiago    |                                                   City                                                    |
| country                                | string  | Required      | Chile       |                                                  Country                                                  |



## <a name="_toc_250026"></a>Creation of an order to a Smart Pickup location.
The integrated ecommerce can generate last-mile orders to the locations of the Smart Pickup network that it has assigned.

{

"warehouse\_id":"bsfz14", "pudo\_code":"SCLC01", "client\_email":"<ignacio.aguirre@ejemplo.cl>", "name\_client":"Ignacio Aguirre", "phone\_client":"963937584", "request\_number":"0000000001",  "box\_size":1,

"box\_height":1, "box\_width":1, "box\_length":1, "box\_weight":1, "order\_type": "lm\_pudo"

}

To create one or more orders, you must enter the following information as header parameters:


| **Variable**  | **Type Value** | **Required** |              **Value**               |                         **Description**                         |
| :-----------: | :------------: | :----------- | :----------------------------------: | :-------------------------------------------------------------: |
| Content-Type  |     String     | Required     |           application/json           |                     Mandatory in the header                     |
| Authorization |     String     | Required     | <p>Token <token\_usuario</p><p>></p> | Mandatory in the header. Static value delivered by Smart Pickup |


## <a name="_toc_250025"></a>Input Parameters			

|              **Variable**              | **Value Type** | **Requires** |                     **Example**                     |                                                                    **Description**                                                                    |
| :------------------------------------: | :------------: | :----------: | :-------------------------------------------------: | :---------------------------------------------------------------------------------------------------------------------------------------------------: |
|             warehouse\_id              |     string     |   Required   |                       bsfz14                        |                                      Warehouse identifier code. This is a static value delivered by Smart Pickup                                      |
|               pudo\_code               |     string     |   Required   |                       SCLC01                        | Identifying code of the withdrawal point. This is a static value delivered by the Smart Pickup API (https://api.pickuppoint.cl/api/v1/public/ pudos/) |
|             client\_email              |     string     |   Required   | ignacio.a guirre@e jemplo[.cl](mailto:mat@thews.cl) |                                                                    Customer email                                                                     |
|              name\_client              |     String     |   Required   |                   Mirko Gonzalez                    |                                                      Full name of the customer placing the order                                                      |
|             phone\_client              |     String     |   Required   |               <p>9874521</p><p>54</p>               |              <p>Telephone number required to inform via SMS the</p><p>order status. It is necessary to respect the format XXXXXXXXX</p>               |
|            request\_numb er            |     string     |   Required   |              <p>0000000</p><p>001</p>               |                                                            Unique Ecommerce purchase code                                                             |
| box\_size (Referencia tabla box\_size) |    integer     |   Required   |                          2                          |                                                   Box size category to be defined with the merchant                                                   |
|             box\_height\*              |     float      |   Optional   |                          1                          |                                                             Package height in centimeters                                                             |
|              box\_width\*              |     Float      |   Optional   |                          1                          |                                                             Package width in centimeters                                                              |
|             box\_length\*              |     Float      |   Optional   |                          1                          |                                                             Package length in centimeters                                                             |
|              box\_weight               |     float      |   Optional   |                          1                          |                                                                Package weight in Kilos                                                                |
|              order\_type               |     string     |   Required   |                      lm\_pudo                       |                                              Last mile delivery service to a local (local Smart Pickup)                                               |


## <a name="_toc_250024"></a>Creation of a return order starting at Home.
The integrated ecommerce can generate these orders

{

"warehouse\_id":"bsfz14", "client\_email":"<ignacio.aguirre@ejemplo.cl>", "name\_client":"Ignacio Aguirre", "phone\_client":"963937584", "request\_number":"0000000001",  "box\_size":1,

"box\_height":1, "box\_width":1, "box\_length":1, "box\_weight":1, "order\_type": "lm\_return", "order\_type\_fm": "fm\_home", "address": {

"street": "Teatinos", "number": "504",

"apartment": "209", "commune": "Santiago", "city": "Santiago", "country": "Chile"

}

}

To create one or more orders, you must enter the following information as header parameters:


| **Variable**  | **Type Value** | **Required** |              **Value**               |                         **Description**                         |
| :-----------: | :------------: | :----------- | :----------------------------------: | :-------------------------------------------------------------: |
| Content-Type  |     String     | Required     |           application/json           |                     Mandatory in the header                     |
| Authorization |     String     | Required     | <p>Token <token\_usuario</p><p>></p> | Mandatory in the header. Static value delivered by Smart Pickup |


## <a name="_toc_250023"></a>Input Parameters		

|                Variable                | Value Type | Required |                       Value                        | Description                                                                                                                |
| :------------------------------------: | :--------- | -------: | :------------------------------------------------: | :------------------------------------------------------------------------------------------------------------------------- |
|             warehouse\_id              | string     | Required |                       bsfz14                       | Warehouse identifier code. This is a static value delivered by Smart Pickup                                                |
|             client\_email              | string     | Required | ignacio.aguirre@ ejemplo[.cl](mailto:mat@thews.cl) | Customer email                                                                                                             |
|              name\_client              | String     | Required |                  Ignacio Aguirre                   | Full name of the customer placing the order                                                                                |
|             phone\_client              | String     | Required |                     987452154                      | <p>Telephone number required to inform via SMS the order status.</p><p>It is necessary to respect the format XXXXXXXXX</p> |
|            request\_number             | string     | Required |                     0000000001                     | Unique Ecommerce purchase code                                                                                             |
| box\_size (Referencia tabla box\_size) | integer    | Required |                         2                          | Box size category to be defined with the merchant                                                                          |
|             box\_height\*              | float      | Optional |                         1                          | Package height in centimeters                                                                                              |
|              box\_width\*              | Float      | Optional |                         1                          | Package width in centimeters                                                                                               |
|             box\_length\*              | Float      | Optional |                         1                          | Package length in centimeters                                                                                              |
|              box\_weight               | float      | Optional |                         1                          | Package weight in Kilos                                                                                                    |
|                 street                 | string     | Required |                      Condell                       | Street                                                                                                                     |
|                 number                 | string     | Required |                        679                         | Numeration                                                                                                                 |


| apartment | string |          | 204         | office, apartment, box, etc |
| :-------: | :----- | :------- | :---------- | :-------------------------- |
|  commune  | string | Required | Providencia | Commune                     |
|   city    | string | Required | Santiago    | City                        |
|  country  | string | Required | Chile       | Country                     |


## <a name="_toc_250022"></a>Box\_size table.
The following table shows the codes of the box\_size and their respective meanings to enter the API, when creating an order.



| **Value** | **Name** |                        **Description**                        |
| :-------: | :------: | :-----------------------------------------------------------: |
|     1     |    XS    |        The code represents an extra small size package        |
|     2     |    S     |              The code represents a small package              |
|     3     |    M     |           The code represents a medium size package           |
|     4     |    L     |           The code represents a large size package            |
|     5     |    XL    |           The code represents an oversized package            |
|     0     | Default  | By default, for undefined sizes send 0 in the box\_size field |



These codes are general and representative of the system. These sizes will be determined in the contract established with the E-commerce.

## <a name="_toc_250021"></a>Parameters
Once the order is entered, it is created in the Smart Pickup system and two values are delivered, return\_id and tracking\_id, which will be used later to work with the tracking and possible reverse logistics of the shipment.

### <a name="_toc_250020"></a>Output


{

"return\_id": "RECDCLF000000000005",

"tracking\_id": "CDCLF000000000005"

}



| **Variable** | **Type Value** | **Required** |     **Example**     | **Return**                                                                             |
| :----------: | :------------: | :----------: | :-----------------: | :------------------------------------------------------------------------------------- |
| Tracking\_id |     String     |  obligatory  |  CDJLF000003000005  | Unique value to identify the package in the PickUp Point system                        |
|  Return\_id  |     String     |  obligatory  | RECDWLF000500000005 | Single return value to perform the reverse logistics of the product in case of return. |


# <a name="_toc_250019"></a>Cancel a specific order

Once the system creates the orders, their status can be updated. To change status, it is necessary to have the tracking\_id previously delivered when creating an order.

Modification of an Order or N Orders can be made through the following URL:

## <a name="_toc_250018"></a>PATCH Method
##
We have 2 URLs to modify an order or N Orders:

- Modification of 1 order: https://api.pickuppoint.cl/api/v1/commerce/orders/update/(?P<tracking\_id>[A-Za-z0-9íritu+)/

- Modification of 1 or more orders: https://api.pcikuppoint.cl/apiv1/commerce/orders/bulk-update/

Which receives as a parameter an array of tracking\_id with their respective states.

Next, an Input, and an example of each of the state changes.

### <a name="_toc_250017"></a>Modification of 1 order:
###
The method requires authenticating the merchant using the Token delivered by header:

{

Content-Type : application/json

Authorization : Token 2a6f3ab1bec0a7cde87709102XXXXXXXXXXXXXXX

}

### <a name="_toc_250016"></a>Input

We give the endpoint the tracking\_id:

https://api.pickuppoint.cl/api/v1/commerce/orders/update/CDOPP000000000421/ Y en enviamos el siguiente body:

{"status": <status>} : Ejemplo - {"status":"rejected\_ecommerce"}
### <a name="_toc_250015"></a>Output

{

"tracking\_id": "CDOPP000000000421", "status": "rejected\_ecommerce" 

}


The command carried out changes the status of the order to "Rejected" which means that Smart Pickup will not carry out a specific withdrawal of that order.

Status table:

| **Status** | **Type** | **Required** |      **Value**      | **Description**                                                      |
| :--------: | :------- | :----------- | :-----------------: | :------------------------------------------------------------------- |
|  Rejected  | String   | obligatory   | rejected\_ecommerce | Order remains in Rejected status, so it is not valid for withdrawal. |


# <a name="_toc_250014"></a>Cancel N Orders

Orders can be canceled together through an array of items. To change the status of 1 or more Orders it is necessary to have the tracking\_id of each of the orders that you want to cancel. This tracking\_id is delivered when the order is created in the Order Creation Endpoint.

To carry out this process it is necessary to use the corresponding Header used throughout the system:

{

Content-Type : "application/json"

Authorization : "Token 2a6f3ab1bec0a7cde87709102XXXXXXXXXXXXXXX"

}



## <a name="_toc_250013"></a>Input
Below, we attach information on how the service Works: 

URL: <https://api.pickuppoint.cl/api/v1/commerce/orders/bulk-update/>

## <a name="_toc_250012"></a>PATCH Method
Example object:

[{“tracking\_id”: <tracking\_id>, “status”:<status>,{…},{…}}]

Here is an example of a PATCH to modify the status of 2 orders.
#### [
#### {
#### "tracking\_id":"SCLD0000002354", "status": "rejected\_ecommerce"
#### },
#### {
#### "tracking\_id":"SCLD0000002355", "status": "rejected\_ecommerce"
#### }
#### ]










| **Status** | **Type** | **Required** | **Value** | **Description** |
| :--------- | :------- | :----------- | :-------: | :-------------- |

| Rejected | String | Obigatory | rejected\_ecomerce | Upon receiving rejected ecommerce, the order remains in the Rejected status, so it is not a valid withdrawal package. |
| :------- | :----- | :-------- | :----------------- | :-------------------------------------------------------------------------------------------------------------------: |


# <a name="_toc_250011"></a>Endpoint Status of an Order

The following endpoint shows the history of the order status. This can be consulted with the tracking\_id delivered by Smart Pickup. This endpoint is public, it does not need Token since the endpoint only delivers the order status.

## <a name="_toc_250010"></a>Input

### <a name="_toc_250009"></a>GET Method
https://api.pickuppoint.cl/api/v1/public/trackings/?search=<CodigoSeguimiento>

To make the endpoint work, you must enter the Tracking\_id delivered by PickUpPoint in the Order Creation endpoint in the <Tracking Code>.



| **Variable** | **Value Type** | **Required** |  **Example**   | **Description**                                                                                          |
| :----------: | :------------: | :----------: | :------------: | :------------------------------------------------------------------------------------------------------- |
| Tracking\_id |     String     |  Optional\*  | SKCL4865413248 | Number delivered at the time of creating the order (https://api.pickuppoint.cl/ api/v1/commerce/orders/) |
#### \*Es necesario ingresar al menos uno de los dos valores para poder obtener el estado del pedido


### <a name="_toc_250008"></a>Output or response (Endpoint response)

At the endpoint output, the code of the chosen withdrawal point is delivered, the status and observations if they exist.


### <a name="_toc_250007"></a>Status table


|   **Status code**    |                      **Status**                       |
| :------------------: | :---------------------------------------------------: |
|  pending\_dispatch   |     Status of an order just created by eCommerce      |
|    on\_route\_hub    |           En route to the Smart Pickup HUB            |
|   on\_route\_local   |        En route to the place or pick-up point         |
| on\_route\_ecommerce |    En route to ecommerce in the process of return     |
|    pending\_local    |             Pending at the pick-up point              |
|        local         |                 At the pick-up point                  |
|    rejected\_pudo    |         Rejected because of the pickup point          |
|   rejected\_client   |                 Rejected by customer                  |
|       withdraw       |               Delivered to the customer               |
| rejected\_ecommerce  |                 Rejected by Ecommerce                 |
|   pending\_return    |        Waiting for pick up to start the return        |
|  on\_route\_return   |                    On return route                    |
|   on\_hub\_return    |                      In the HUB                       |
|        closed        |              Closed due to force majeure              |
|       returned       |                 Successfully Returned                 |
|   waiting\_return    |                    Pending Return                     |
|    on\_local\_hub    | Request for the first mile in PUDO which was received |
|  waiting\_dispatch   |           Order created first mile to PUDO            |





### <a name="_toc_250006"></a>Sub status table
###

| **Sub status code** |                  **Sub Status**                  |
| :-----------------: | :----------------------------------------------: |
|       expired       |        Expired (More than 5 days in PUDO)        |
|      expiring       | In expiration process (More than 3 days in PUDO) |
|  rejected\_client   |               Rejected by Customer               |
|   rejected\_pudo    |                 Rejected by PUDO                 |
|  couldnt\_deliver   |     Could not be delivered in home delivery      |

# <a name="_toc_250005"></a>Endpoint Summary of an Order

The following endpoint displays the current information for an order. This can be consulted with the tracking\_id delivered by Smart Pickup. This endpoint is private.

## <a name="_toc_250004"></a>Input

### <a name="_toc_250003"></a>GET Method
https://api.pickuppoint.cl/api/v1/ecommerce/orders/<Código Seguimiento>/

To make the endpoint work, you must enter the Tracking\_id delivered by PickUpPoint in the Order Creation endpoint in the <Tracking Code>.



| **Variable** | **Value Type** | **Required** |  **Example**   | **Description**                                                                                          |
| :----------: | :------------: | :----------- | :------------: | :------------------------------------------------------------------------------------------------------- |
| Tracking\_id |     String     | Obligatory   | SKCL4865413248 | Number delivered at the time of creating the order (https://api.pickuppoint.cl/ api/v1/commerce/orders/) |


### <a name="_toc_250002"></a>Output or response (endpoint response)
###
At the endpoint output, the code of the chosen withdrawal point is delivered, the status and observations if they exist.

### <a name="_toc_250001"></a>Output Table


|  **Variable**   | **Type Value** |                **Example**                 |                                 **Description**                                 |
| :-------------: | :------------- | :----------------------------------------: | :-----------------------------------------------------------------------------: |
|       pk        | String         |                    3254                    |                              Withdrawal Point Code                              |
| request\_number | String         |                  CO231254                  |                             Unique Ecommerce number                             |
|  tracking\_id   | String         |               SKCL4865413248               |               Number delivered at the time of creating the order                |
|     status      | String         |                  withdraw                  |                                  Order status                                   |
|   sub\_status   | String         |              rejected\_client              |              In case of special orders, this status is marked here              |
|    packages     | Number         |                     3                      |                    Number of packages that make up the order                    |
|      pudo       | Object         |          null (Ejemplo más abajo)          | It has the information of the could to which it is associated if it is the case |
|      user       | Object         |            (Ejemplo más abajo)             |                            Updated user information                             |
|     created     | Date           | <p>2017-07-13T16:34:3</p><p>0\.972810Z</p> |                               Order creation date                               |
|   order\_type   | String         |                  lm\_home                  |                      Type of last mile that the order has                       |
| order\_type\_fm | String         |               fm\_ecommerce                |                                 First mile type                                 |
|     street      | String         |                  Teatinos                  |                      Street where the order has to be made                      |
|     number      | String         |                    405                     |                                  Street number                                  |
|    apartment    | String         |                     4A                     |                         Internal numbering of the place                         |
|     commune     | String         |                  Santiago                  |                                     Commune                                     |
|      city       | String         |         Metropolitana de Santiago          |                                     Region                                      |
|     country     | String         |                   Chile                    |                                     Country                                     |


|   photo\_rejection   | String |     Link      | Link where you can see the photo taken by the courier when the order was rejected by the customer |
| :------------------: | :----: | :-----------: | :-----------------------------------------------------------------------------------------------: |
|      user\_name      | String |  Juan Perez   |                                 User name at the time of purchase                                 |
|     user\_phone      | String | +569123123123 |                            User's phone number at the time of purchase                            |
|        length        | Number |      15       |                                    Length: Measurements in CM                                     |
|        width         | Number |      15       |                                     Width: Measurements in CM                                     |
|        height        | Number |      15       |                                     Lato: Measurements in CM                                      |
|        weight        | Number |       4       |                                           Weight in KG                                            |
|    extended\_days    | Number |       0       |                           When extra days you can stay in it you COULD                            |
| business\_days\_pudo | Number |       0       |                              When business days has been in the PUDO                              |
|    delivered\_to     | String |  Juan Perez   |                                  Name of who received the order                                   |
|  delivered\_to\_rut  | String | 55\.555.555-K |                                  ID from whom received the order                                  |

#### {
#### "pk": 2612,
#### "request\_number": "Numero del Ecommerce", "tracking\_id": "DEVLWH000000002612", "status": "on\_route\_return", "sub\_status": "rejected\_client", "packages": 3,
#### "pudo": {
#### "pk": 1,
#### "name": "Oficina",
#### "code": "SCLV01"
#### },
#### "user": {
#### "pk": 20,
#### "first\_name": "Juan Perez", "last\_name": "",
#### "email": ["juan@pickuppoint.cl",](mailto:juan@pickuppoint.cl) "phone": "+569123456789"
#### },


#### "created": "2020-08-23T21:55:07.807430-03:00",
#### "order\_type": "lm\_home", "order\_type\_fm": "fm\_ecommerce", "street": "Teatinos",
#### "number": "504",
#### "apartment": "209", "commune": "Santiago", "city": "Santiago",
#### "country": "Chile", "photo\_rejection":null, "user\_name": "Juan Perez", "user\_phone": "+569123456789",
#### "length": 12.0,
#### "width": 11.0,
#### "height": 4.0,
#### "weight": 3.0,
#### "extended\_days": 0,
#### "business\_days\_pudo": 0, "delivered\_to": "Juan Perez", "delivered\_to\_rut": "RUT de persona"
#### }


# <a name="_toc_250000"></a>Tracking ID Format

ACVYYY00000XXXXXXX

ACV = Ecommerce Code

YYY = Shipping Type, currently can be LWH = Return, LHM = Address and others that would be the code of the specific PUDO to which it is being sent.
XXXXXXX = Order number
